CP ID : 	231
User Name : 	he_api
Password : 	0f20ea67@D

You can access swagger on https://dtsvc.safaricom.com:8480/swagger-ui.html


Your account has been created successfully.For accessing your account ,login on https://dtsvc.safaricom.com:8481/GUI and please use the following credentials
Login Name  : 	derrick
Password 	: 	0f20ea67@D


the offer : testSDPOffer
shortcode : 6202

Mysql DB

UAT
10.197.5.1
uname : dotina
Pass  : D0T1n@Thur

  RTole
  OHtBgvR3
==========
  UAT
==========

	URL: https://svdt5kubmas01.safaricom.net:30256/#!/login
	Namespace: msisdn
	Registry: svdt5kubreg01.safaricom.net

  KUbernetis Token : eyJhbGciOiJSUzI1NiIsImtpZCI6IiJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJtc2lzZG4iLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZG90aW5hLXRva2VuLXR6cmd6Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImRvdGluYSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjIyZTYzMGQ4LTQ4ZWUtMTFlYS1hY2FlLTAwMWE0YTE2MDE1OSIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDptc2lzZG46ZG90aW5hIn0.eaSi_s5poKaOd-8qO3Lrdwc627YOqQ0S1pT_MnYZ3lLQeef6LnLPHWKakSnwfMp-O9OYDh_LVTgKnRkT0CUyYN_ANxv6XH93aO00gPHz46XCqNLZFbsTfEDoB5NlEzFVEzPg7bfU-mqY6uT_xHM8HPFc-GFHBNTj7BKO-ZpeHZM9fkAcdstVYnF94Rshvo2-vcF_Fz5UiDWBQcc-JuTOTVh8etchxw3s-CCw5OYP-vVSAgY3Wf0T-9urGteMOqDjl0qRTnOtoGBS6JTn_U19e_3JvYKn0XXn3YaxJRTkadpFrm22imumy6hWu7TNCAetfWCgLm1ov0xC7QMwde8JXQ

  https://remedy9.safaricom.net:8443/arsys/
==========
PROD
==========

Find below info:
Dashboard URL: https://kubernetescluster.safaricom.net:32474/#/login
Docker Secret: msisdn-secret
Ingress Secret: msisdn-ingress-secret
Persistent Volume Claim: pvc-msisdn(Already bound to pv)
Persistent Volume Path: /data/Persistent_Volume/msisdn
Registry: svdt5kubnreg01.safaricom.net

Access token to K8sProd dashboard and credentials to registry shared on separate mail. Enjoy the deployment


Find Access token and credentials to prod registry.
Prod Registry:
Username: sfc-user
Password:  S4f4ric0m123!



Access Token: eyJhbGciOiJSUzI1NiIsImtpZCI6IiJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJtc2lzZG4iLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZG90aW5hLXRva2VuLWxmcnN3Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImRvdGluYSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjdlMjQyMWY3LTk2ZWEtMTFlYS1hYjQ5LTAwNTA1NmJhNDViZCIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDptc2lzZG46ZG90aW5hIn0.1X3jk8ojl1HhDDpdJVXPppo0T_lzp7FIIt15EeTRV5dLYGR_SJu1oTC2S5VNv3Tk1cYMCKV5cYLzkaVes0mHJSocawNAQVxDx9sA06Zy8VnB7FQhYjU4fdmcVSIhBGuJFIjzKHvOtVhXKkxFsEveA4Led-R7Xs6HsRYMqbGLKUkXciKgGMI5orRRrwm1SbPW7pdZ9RNjWJX_WIPIZdWLfqkhi1sYLb87-ElzP2Fhvdkq-vn63iib9-yw4arv8cWob9mWOGgkQe2AypG_EGvpFIPdFQbwPgWtQpe1sw72S1zOuZT-ykuiyNGrX6yBpoILBLCDWKSZ6JWIneI2oKG8wA

  # Deploy your service using the deployment file as follows::
#........................................................................................
# Package the jar
# mvn clean package -DskipTests
#........................................................................................
# Create Dockerfile image
# docker build -t svdt5kubreg01.safaricom.net/ms-sdp-header-decryptor:v1.0.1 .
# prod
# docker build -t svdt5kubnreg01.safaricom.net/ms-sdp-header-decryptor:v1.0.1 .
#........................................................................................
# Create Push Dockerfile image
# docker push svdt5kubreg01.safaricom.net/ms-sdp-header-decryptor:v1.0.1
#........................................................................................
# Check if docker image is deployed successful
# docker images
#........................................................................................
# Run image
# docker run -p 9090:9090 ms-postpay-creditrating
#........................................................................................
# Deploy Image on Kube
# kubectl create -f ms-postpay-creditrating-deployment.yaml
#........................................................................................
#  view deployed service
#  kubectl get namespaces
#........................................................................................
#  kubectl get services --all-namespaces
# mvn clean test && mvn sonar:sonar -Dsonar.host.url=http://10.197.4.87:9090


##Configouring Docker certs

    Copy the certificate file to the Linux machine on which you run the Docker client.
    Switch to sudo user.

    $ sudo su

    Create a subfolder in the Docker certificates folder, using the registry's IP address as the folder name.

    $ mkdir -p /etc/docker/certs.d/registry_ip

    Copy the registry's CA certificate into the folder.

    $ cp ca.crt /etc/docker/certs.d/registry_ip/

    Open a new terminal and attempt to log in to the registry server, specifying the IP address of the registry server.

    $ docker login registry_ip

    If the login fails with a certificate error, restart the Docker daemon.

    $ sudo systemctl daemon-reload

    $ sudo systemctl restart docker

## now trust the certs by
copy all certs to the
/usr/local/share/ca-certificates/

update:/etc/docker/daemon.json

{
  "debug" : true,
  "insecure-registries" : [
    "svdt5kubnreg01.safaricom.net:5000",
    "svdt5kubreg01.safaricom.net:5000"
  ],
  "experimental" : true
}

run: sudo update-ca-certificates | for trusting
once success restart docker

for prod:
docker login svdt5kubnreg01.safaricom.net
username: sfc-user
password: S4f4ric0m123!

